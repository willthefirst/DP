var TrackConfig={mediaStream:{},recordRTC:{},beats:4,bpm:140,init:function(){this.getRecordRTC()},getInterval:function(a,b){return 1e3*(60*a/b)},getRecordRTC:function(){$.getScript("https://www.webrtc-experiment.com/RecordRTC.js",function(){TrackConfig.setUpCam()})},hasGetUserMedia:function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},setUpCam:function(){var a=function(){alert("Without a webcam, this site won't do much for you :(")};window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var b=document.querySelector("video");navigator.getUserMedia&&navigator.getUserMedia({video:!0},function(a){b.src=window.URL.createObjectURL(a);var c={type:"video",video:{width:320,height:240},canvas:{width:320,height:240}};TrackConfig.recordRTC=RecordRTC(a,c),$("#play").on("click",function(){}),$("#stop").on("click",function(){TrackConfig.recordRTC.stopRecording(function(a){window.open(a)})}),TrackConfig.autoRecord($("#record-auto"),4,140)},a)},autoRecord:function(a,b,c){a.on("click",function(){TrackConfig.recordRTC.startRecording(),setTimeout(function(){TrackConfig.recordRTC.stopRecording(function(a){window.open(a)})},TrackConfig.getInterval(b,c))})}};jQuery(document).ready(function(){TrackConfig.hasGetUserMedia()?TrackConfig.init():alert("getUserMedia() is not supported in your browser")});