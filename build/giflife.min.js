var TrackConfig={mediaStream:{},recordRTC:{},init:function(){this.getRecordRTC()},getRecordRTC:function(){$.getScript("https://www.webrtc-experiment.com/RecordRTC.js",function(){TrackConfig.requestVidCam()})},hasGetUserMedia:function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},requestVidCam:function(){var a=function(a){console.log("Denied!",a)};window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var b=document.querySelector("video");navigator.getUserMedia&&navigator.getUserMedia({video:!0},function(a){b.src=window.URL.createObjectURL(a);var c={type:"video",video:{width:160,height:120},canvas:{width:160,height:120}};TrackConfig.recordRTC=RecordRTC(a,c),$("#play").on("click",function(){TrackConfig.recordRTC.startRecording()}),$("#stop").on("click",function(){TrackConfig.recordRTC.stopRecording(function(a){window.open(a)})})},a)}};jQuery(document).ready(function(){TrackConfig.hasGetUserMedia()?TrackConfig.init():alert("getUserMedia() is not supported in your browser")});